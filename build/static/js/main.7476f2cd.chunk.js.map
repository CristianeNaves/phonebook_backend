{"version":3,"sources":["services/persons.js","components/Person.js","components/PersonForm.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","put","concat","person_id","console","log","delete","Person","_ref","person","react_default","a","createElement","name","number","Persons","_ref2","filterName","persons","setPersons","exp","toLowerCase","filter","includes","filteredPersons","map","key","Person_Person","onClick","personService","removedPerson","PersonForm","setMessage","_useState","useState","_useState2","Object","slicedToArray","newName","setNewName","_useState3","_useState4","newNumber","setNewNumber","getPerson","find","onSubmit","event","preventDefault","existing_person","window","confirm","returnedPerson","text","success","setTimeout","catch","error","value","onChange","target","type","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","setFilterName","_useState5","_useState6","notificationMessage","setNotificationMessage","useEffect","returnedPersons","components_Notification","components_PersonForm","components_Person","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.7476f2cd.chunk.js","sourcesContent":["import axios from 'axios';\nconst baseUrl = '/api/persons';\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\n const remove = (person_id) => {\n    console.log(person_id)\n    const request = axios.delete(`${baseUrl}/${person_id}`)  \n    return request.then(response => response.data)\n}\n\nexport default { \n    getAll: getAll, \n    create: create, \n    update: update,\n    remove: remove\n}","import React from 'react';\nimport personService from '../services/persons';\n\nconst Person = ({person}) => {\n  return (\n    <div>\n        <li>{person.name} {person.number}</li>\n      </div>\n    )\n  }\n  \nconst Persons = ({filterName, persons, setPersons}) => {\n  const deletePerson = (id) => {\n    personService.remove(id).then(removedPerson => {\n      setPersons(persons.filter(person => person.id !== id))\n    })\n  }\n\n  const filteredPersons = () => {\n    let exp = filterName.toLowerCase();\n    return persons.filter(person => person.name.toLowerCase().includes(exp))\n  }\n\n  if (filterName) {\n    persons = filteredPersons()\n  }\n  \n  return (\n    <div>\n      {\n        persons.map(person => {\n          return(\n            <div key={person.id}>\n              <Person person={person}/> <button onClick={() => deletePerson(person.id)}>delete</button>\n            </div>\n          )\n        })\n      }\n    </div>\n  )\n}\nexport default Persons;\n","import React, {useState} from 'react';\nimport personService from '../services/persons';\n\nconst PersonForm = ({persons, setPersons, setMessage}) => {\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber] = useState('')\n\n  const savePerson = (event) => {\n    event.preventDefault();\n\n    const person = {\n      name: newName,\n      number: newNumber\n    }\n\n    const existing_person = getPerson()\n\n    if (existing_person) {\n      let update = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`);\n      if (update) {\n        personService.update(existing_person.id, person).then(returnedPerson => {\n          setPersons(persons.map(person => person.id !== returnedPerson.id? person : returnedPerson))\n          \n          setMessage({text: `Number changed to ${returnedPerson.number}`, success: true})\n\n          setTimeout(() => setMessage(null), 5000)\n        }).catch(error => {\n          setMessage({text: `Information of ${existing_person.name} has already been removed from server`, success: false})\n          setTimeout(() => setMessage(null), 5000)\n        })\n      }\n    } \n    else {\n      personService.create(person).then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n\n        setMessage({text: `Added ${returnedPerson.name}`, success: true})\n\n        setTimeout(() => setMessage(null), 5000)\n\n      })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const getPerson = () => {\n    return persons.find(person => person.name === newName);\n  }\n\n  return (\n    <div>\n      <form onSubmit={savePerson}>\n        <div>\n          name: <input value={newName} onChange={(event) => setNewName(event.target.value)} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={(event) => setNewNumber(event.target.value)}/>\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default PersonForm;","import React from 'react';\n\nconst Notification = ({message}) => {\n    const messageStyle = {\n        color: 'green',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n\n    const errorStyle = {\n        color: 'red',\n        background: 'lightgrey',\n        fontSize: 20,\n        borderStyle: 'solid',\n        borderRadius: 5,\n        padding: 10,\n        marginBottom: 10\n    }\n\n    if (message === null) {\n        return null\n    }\n\n    return (\n        <div style={message.success? messageStyle: errorStyle}>\n            {message.text}\n        </div>\n    )\n}\n\nexport default Notification;","import React, {useState, useEffect} from 'react';\nimport personService from './services/persons';\nimport Persons from './components/Person';\nimport PersonForm from './components/PersonForm';\nimport Notification from './components/Notification';\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ filterName, setFilterName ] = useState('')\n  const [ notificationMessage, setNotificationMessage] = useState(null)\n\n  useEffect(() => {\n    personService.getAll().then(returnedPersons =>{\n      setPersons(returnedPersons)\n    })\n  }, []);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notificationMessage}/>\n      <div>\n      filter shown with <input value={filterName} onChange={(event) => setFilterName(event.target.value)}/>\n      </div>\n      <h2>add a new</h2>\n      <PersonForm persons={persons} setPersons={setPersons} setMessage={setNotificationMessage}/>\n      <h2>Numbers</h2>\n      <Persons filterName={filterName} persons={persons} setPersons={setPersons} /> \n    </div>\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}